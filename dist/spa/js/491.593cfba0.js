(self["webpackChunkhumbleshit_app"]=self["webpackChunkhumbleshit_app"]||[]).push([[491],{8491:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(3673),i=a(2323);const u={key:0},l=(0,s.Wm)("div",{class:"q-mb-md text-center text-body1"},"Welcome",-1),r={key:0,class:"text-center"},n={class:"q-mt-md text-center text-h6 text-primary"},c=(0,s.Uk)(" Your don't have any upcoming shift today. "),d=(0,s.Uk)("Your Shifts");function m(e,t,a,m,h,o){const f=(0,s.up)("q-img"),w=(0,s.up)("q-avatar"),p=(0,s.up)("q-card-section"),g=(0,s.up)("q-item-label"),v=(0,s.up)("q-btn"),k=(0,s.up)("q-card"),_=(0,s.up)("q-icon"),y=(0,s.up)("q-item-section"),S=(0,s.up)("q-item"),W=(0,s.up)("q-list"),x=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(x,{padding:""},{default:(0,s.w5)((()=>[e.user?((0,s.wg)(),(0,s.j4)("div",u,[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[l,e.user.img?((0,s.wg)(),(0,s.j4)("div",r,[(0,s.Wm)(w,{size:"64px"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{src:e.user.img},null,8,["src"])])),_:1})])):(0,s.ry)("",!0),(0,s.Wm)("div",n,(0,i.zw)(e.user.name),1)])),_:1})])):(0,s.ry)("",!0),(0,s.Wm)(k,{bordered:"",flat:"",class:"q-mt-md"},{default:(0,s.w5)((()=>[e.activeShift?"upcoming"==e.activeShift.status?((0,s.wg)(),(0,s.j4)(p,{key:1,class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{header:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" Your next shift starts at "+(0,i.zw)(e.$filters.humanTime(e.activeShift.expectedInTime)),1)])),_:1})])),_:1})):"late"==e.activeShift.status?((0,s.wg)(),(0,s.j4)(p,{key:2,class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{header:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" Your are late for your shift which started at "+(0,i.zw)(e.$filters.humanTime(e.activeShift.expectedInTime)),1)])),_:1}),(0,s.Wm)(v,{label:"Start now",rounded:"",color:"primary",onClick:e.startShift},null,8,["onClick"])])),_:1})):"started"==e.activeShift.status?((0,s.wg)(),(0,s.j4)(p,{key:3,class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{header:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" Your shift is till "+(0,i.zw)(e.$filters.humanTime(e.activeShift.expectedOutTime)),1)])),_:1}),(0,s.Wm)(v,{label:"End now",rounded:"",color:"primary",onClick:e.endShift},null,8,["onClick"])])),_:1})):(0,s.ry)("",!0):((0,s.wg)(),(0,s.j4)(p,{key:0,class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{header:""},{default:(0,s.w5)((()=>[c])),_:1})])),_:1}))])),_:1}),e.shifts.length?((0,s.wg)(),(0,s.j4)(k,{key:1,bordered:"",flat:"",class:"q-mt-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{header:""},{default:(0,s.w5)((()=>[d])),_:1}),((0,s.wg)(!0),(0,s.j4)(s.HY,null,(0,s.Ko)(e.shifts,(t=>((0,s.wg)(),(0,s.j4)(S,{key:t._id,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{name:e.statusIcons[t.status],color:e.statusColors[t.status]},null,8,["name","color"])])),_:2},1024),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$filters.humanTime(t.expectedInTime))+" - "+(0,i.zw)(e.$filters.humanTime(t.expectedOutTime)),1)])),_:2},1024)])),_:2},1024),"started"==t.status||"finished"==t.status?((0,s.wg)(),(0,s.j4)(y,{key:0,side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(t.actualInTime?e.$filters.humanTime(t.actualInTime):"")+" - "+(0,i.zw)(t.actualOutTime?e.$filters.humanTime(t.actualOutTime):""),1)])),_:2},1024)])),_:2},1024)):(0,s.ry)("",!0)])),_:2},1024)))),128))])),_:1})])),_:1})):(0,s.ry)("",!0)])),_:1})}var h=a(5250);const o=(0,s.aZ)({name:"PageIndex",setup(){const e=(0,h.oR)(),t={finished:"eva-checkmark-square-outline",missed:"eva-close-circle-outline",late:"eva-clock-outline",started:"eva-log-out-outline",upcoming:"eva-square-outline"},a={finished:"positive",missed:"negative",late:"warning",started:"positive",upcoming:"primary"},i=(0,s.Fl)((()=>e.getters["auth/user"])),u=(0,s.Fl)((()=>e.getters["auth/userShifts"])),l=(0,s.Fl)((()=>e.getters["auth/userActiveShift"]));(0,s.bv)((()=>{e.dispatch("general/setTitle","humbleShit"),e.dispatch("auth/fetchUser"),e.dispatch("auth/fetchUserShifts")}));const r=()=>{e.dispatch("auth/startShift",l.value)},n=()=>{e.dispatch("auth/endShift",l.value)};return{statusIcons:t,statusColors:a,user:i,shifts:u,activeShift:l,startShift:r,endShift:n}}});var f=a(4379),w=a(5589),p=a(5096),g=a(4027),v=a(151),k=a(2350),_=a(8240),y=a(7011),S=a(6332),W=a(2035),x=a(4554),q=a(7518),T=a.n(q);o.render=m;const b=o;T()(o,"components",{QPage:f.Z,QCardSection:w.Z,QAvatar:p.Z,QImg:g.Z,QCard:v.Z,QItemLabel:k.Z,QBtn:_.Z,QList:y.Z,QItem:S.Z,QItemSection:W.Z,QIcon:x.Z})}}]);