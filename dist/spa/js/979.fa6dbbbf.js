(self["webpackChunkhumbleshit_app"]=self["webpackChunkhumbleshit_app"]||[]).push([[979],{9979:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>k});var o=a(3673),r=a(2323);function s(t,e,a,s,n,i){const u=(0,o.up)("q-toolbar-title"),l=(0,o.up)("q-toolbar"),c=(0,o.up)("q-header"),h=(0,o.up)("router-view"),p=(0,o.up)("q-page-container"),d=(0,o.up)("q-route-tab"),g=(0,o.up)("q-tabs"),m=(0,o.up)("q-footer"),w=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(w,{view:"lHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{bordered:"",class:"bg-white text-primary text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(i.title),1)])),_:1})])),_:1})])),_:1}),(0,o.Wm)(p,{class:"bg-grey-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(h)])),_:1}),(0,o.Wm)(m,{bordered:"",class:"bg-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"row text-grey","active-color":"primary","switch-indicator":"","narrow-indicator":""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(i.navigationLinks,(t=>((0,o.wg)(),(0,o.j4)(d,{key:t.link,name:t.title,to:t.link,icon:t.icon,class:"col",exact:""},null,8,["name","to","icon"])))),128)),(0,o.Wm)(d,{name:"Menu",to:"/menu",icon:"eva-menu-outline",class:"col",exact:""})])),_:1})])),_:1})])),_:1})}a(5363);var n=a(5474);const i={name:"MainLayout",computed:{title(){return this.$store.getters["general/title"]},token(){return this.$store.getters["auth/token"]},navigationLinks(){return this.$store.getters["auth/homeLinks"]}},created(){this.checkLogin()},methods:{async checkLogin(){if(!this.token)return this.logout();this.setHeaders();try{await n.api.get(process.env.API+"/auth/login/status"),this.fetchUser()}catch(t){console.error(t),this.logout()}},logout(){this.$store.dispatch("auth/logout"),this.$router.replace("/auth/login?callback="+this.$route.path)},setHeaders(){n.api.defaults.headers.common.Authorization="Bearer "+this.token},fetchUser(){}}};var u=a(3066),l=a(3812),c=a(9570),h=a(3747),p=a(2652),d=a(1762),g=a(7547),m=a(2770),w=a(7518),b=a.n(w);i.render=s;const k=i;b()(i,"components",{QLayout:u.Z,QHeader:l.Z,QToolbar:c.Z,QToolbarTitle:h.Z,QPageContainer:p.Z,QFooter:d.Z,QTabs:g.Z,QRouteTab:m.Z})}}]);