(self["webpackChunkhumbleshit_app"]=self["webpackChunkhumbleshit_app"]||[]).push([[822],{2310:(t,e,l)=>{"use strict";l.d(e,{Z:()=>w});var i=l(3673),n=l(2323);const a={class:"text-center"},o={class:"text-center"};function s(t,e,l,s,u,d){const r=(0,i.up)("q-icon"),c=(0,i.up)("q-card-section"),m=(0,i.up)("q-item-label"),p=(0,i.up)("q-btn"),f=(0,i.up)("q-card");return(0,i.wg)(),(0,i.j4)(f,{flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)("div",a,[(0,i.Wm)(r,{size:"96px",name:l.icon,color:"grey-4"},null,8,["name"])])])),_:1}),(0,i.Wm)(m,{class:"text-center",header:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(l.label),1)])),_:1}),l.to?((0,i.wg)(),(0,i.j4)(c,{key:0},{default:(0,i.w5)((()=>[(0,i.Wm)("div",o,[(0,i.Wm)(p,{"no-caps":"",unelevated:"",rounded:"",label:l.action,to:l.to,color:"primary","text-color":"secondary"},null,8,["label","to"])])])),_:1})):(0,i.ry)("",!0)])),_:1})}const u={props:{icon:{type:String,default:"eva-alert-triangle-outline"},label:{type:String,default:"Sorry! No data found."},to:{type:String,default:null},action:{type:String,default:null}}};var d=l(151),r=l(5589),c=l(4554),m=l(2350),p=l(8240),f=l(7518),h=l.n(f);u.render=s;const w=u;h()(u,"components",{QCard:d.Z,QCardSection:r.Z,QIcon:c.Z,QItemLabel:m.Z,QBtn:p.Z})},1055:(t,e,l)=>{"use strict";l.d(e,{Z:()=>c});var i=l(3673);function n(t,e){const l=(0,i.up)("q-skeleton"),n=(0,i.up)("q-item-section"),a=(0,i.up)("q-item");return(0,i.wg)(),(0,i.j4)(a,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{type:"circle"})])),_:1}),(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,{type:"rect"})])),_:1})])),_:1})}var a=l(6332),o=l(2035),s=l(4103),u=l(7518),d=l.n(u);const r={};r.render=n;const c=r;d()(r,"components",{QItem:a.Z,QItemSection:o.Z,QSkeleton:s.ZP})},6822:(t,e,l)=>{"use strict";l.r(e),l.d(e,{default:()=>H});var i=l(3673);const n={key:0},a={key:1},o={key:2};function s(t,e,l,s,u,d){const r=(0,i.up)("SListItem"),c=(0,i.up)("EmptyTile"),m=(0,i.up)("ShiftList"),p=(0,i.up)("q-btn"),f=(0,i.up)("q-page-sticky"),h=(0,i.up)("ShiftForm"),w=(0,i.up)("q-dialog"),g=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(g,{padding:""},{default:(0,i.w5)((()=>[t.loading?((0,i.wg)(),(0,i.j4)("div",n,[((0,i.wg)(),(0,i.j4)(i.HY,null,(0,i.Ko)(5,(t=>(0,i.Wm)(r,{key:t}))),64))])):t.empty?((0,i.wg)(),(0,i.j4)("div",a,[(0,i.Wm)(c,{label:"There are no shifts.",icon:"eva-clock-outline"})])):((0,i.wg)(),(0,i.j4)("div",o,[(0,i.Wm)(m,{shifts:t.shifts},null,8,["shifts"])])),(0,i.Wm)(f,{position:"bottom-right",offset:[18,18]},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{fab:"",icon:"eva-plus-outline",color:"primary",onClick:t.showAddShiftDialog},null,8,["onClick"])])),_:1}),(0,i.Wm)(w,{modelValue:t.addShiftDialog,"onUpdate:modelValue":e[1]||(e[1]=e=>t.addShiftDialog=e),maximized:"",persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{onDone:t.doneAddingShift},null,8,["onDone"])])),_:1},8,["modelValue"])])),_:1})}var u=l(2323);const d=(0,i.Uk)(" Temporary Mapping Active ");function r(t,e,l,n,a,o){const s=(0,i.up)("q-item-label"),r=(0,i.up)("q-item-section"),c=(0,i.up)("q-item"),m=(0,i.up)("q-list"),p=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.j4)(m,{separator:"",bordered:"",class:"bg-white rounded-borders"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(l.shifts,(t=>(0,i.wy)(((0,i.wg)(),(0,i.j4)(c,{key:t._id,clickable:"",to:"/shifts/"+t._id},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(t.startTime)+" - "+(0,u.zw)(t.endTime),1)])),_:2},1024),t.useTemporaryMapping?((0,i.wg)(),(0,i.j4)(s,{key:0,caption:"",class:"text-green text-italic"},{default:(0,i.w5)((()=>[d])),_:1})):(0,i.ry)("",!0)])),_:2},1024),(0,i.Wm)(r,{side:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(t.activeFacilities)+" Facilities ",1)])),_:2},1024)])),_:2},1032,["to"])),[[p]]))),128))])),_:1})}const c={props:{shifts:{type:Array,default:()=>[]}}};var m=l(7011),p=l(6332),f=l(2035),h=l(2350),w=l(6489),g=l(7518),y=l.n(g);c.render=r;const v=c;y()(c,"components",{QList:m.Z,QItem:p.Z,QItemSection:f.Z,QItemLabel:h.Z}),y()(c,"directives",{Ripple:w.Z});const W={class:"text-h6"},Z=(0,i.Uk)(" Add Shift ");function S(t,e,l,n,a,o){const s=(0,i.up)("q-btn"),u=(0,i.up)("q-card-section"),d=(0,i.up)("q-input"),r=(0,i.up)("q-item-section"),c=(0,i.up)("q-item"),m=(0,i.up)("q-form"),p=(0,i.up)("q-page-sticky"),f=(0,i.up)("q-card"),h=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)("div",W,[Z,(0,i.wy)((0,i.Wm)(s,{round:"",flat:"",dense:"",icon:"eva-close-outline",class:"float-right"},null,512),[[h]])])])),_:1}),(0,i.Wm)(u,{class:"q-pa-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:a.shift.startTime,"onUpdate:modelValue":e[1]||(e[1]=t=>a.shift.startTime=t),outlined:"",label:"Start Time",mask:"##:##"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:a.shift.endTime,"onUpdate:modelValue":e[2]||(e[2]=t=>a.shift.endTime=t),outlined:"",label:"End Time",mask:"##:##"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(p,{position:"bottom-right",offset:[18,18],class:"btn"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{fab:"",icon:"eva-arrow-forward-outline",color:"primary",onClick:o.addShift},null,8,["onClick"])])),_:1})])),_:1})}l(9544);var b=l(5474);const k={emits:["done"],data(){return{shift:{startTime:null,endTime:null}}},methods:{addShift(){this.$q.loading.show(),b.api.post("/shifts",this.shift).then((t=>{this.$emit("done"),this.$router.push("/shifts/"+t.data._id)})).catch((t=>{console.error(t)})).finally((()=>{this.$q.loading.hide()}))}}};var _=l(151),q=l(5589),Q=l(8240),T=l(5269),j=l(4842),I=l(1007),C=l(677);k.render=S;const x=k;y()(k,"components",{QCard:_.Z,QCardSection:q.Z,QBtn:Q.Z,QForm:T.Z,QItem:p.Z,QItemSection:f.Z,QInput:j.Z,QPageSticky:I.Z}),y()(k,"directives",{ClosePopup:C.Z});var V=l(1055),D=l(2310),U=l(1959),A=l(621),F=l(5250);const L=(0,i.aZ)({components:{ShiftList:v,ShiftForm:x,SListItem:V.Z,EmptyTile:D.Z},setup(){const t=(0,F.oR)();let e=(0,U.iH)("supervisors");(0,i.bv)((()=>{t.dispatch("general/setTitle","Shifts")}));let{data:l,mutate:n}=(0,A.ZP)("/shifts",b.fetcher),a=(0,i.Fl)((()=>!l.value)),o=(0,i.Fl)((()=>!a.value&&!l.value.length)),s=(0,U.iH)(!1),u=()=>{s.value=!0},d=()=>{s.value=!1,n()};return{tab:e,loading:a,empty:o,shifts:l,addShiftDialog:s,showAddShiftDialog:u,doneAddingShift:d}}});var z=l(4379),P=l(4390);L.render=s;const H=L;y()(L,"components",{QPage:z.Z,QPageSticky:I.Z,QBtn:Q.Z,QDialog:P.Z})}}]);